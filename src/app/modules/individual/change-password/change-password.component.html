<!--/*
 *  * |///////////////////////////////////////////////////////////////////////|
 *  * |                                                                       |
 *  * | Copyright (C) STELLABLUE INTERACTIVE SERVICES PVT. LTD.               |
 *  * | All Rights Reserved                                                   |
 *  * |                                                                       |
 *  * | This document is the sole property of StellaBlue Interactive          |
 *  * | Services Pvt. Ltd.                                                    |
 *  * | No part of this document may be reproduced in any form or             |
 *  * | by any means - electronic, mechanical, photocopying, recording        |
 *  * | or otherwise - without the prior written permission of                |
 *  * | StellaBlue Interactive Services Pvt. Ltd.                             |
 *  * |                                                                       |
 *  * |///////////////////////////////////////////////////////////////////////|
 *  */-->

<div *ngIf="!showSuccessMessageOnChangePassword" class="container">
  <!-- <div class="row">
    <div class="col-lg-6">
      <h4 style="margin-left:20px;">{{ 'CHANGE_PASSWORD.CHANGE_PASSWORD_CHANGE_PASSWORD' | translate }}</h4>
    </div>

  </div> -->
  <!-- <div *ngIf="!forgetSetPassword" class="row">
      <div class="col-sm-6">
        <h1>Set Password</h1> 
      </div>
      <div class="col-sm-6"></div>
  </div> -->
  <div class="row page-content">
  <div class="col-3"></div>
  <div class="col-6 card">
  <form [formGroup]="changePasswordForm" class="form-signin">
    <ul class="list-group">
      <li *ngIf="forgetSetPassword" class="list-group-item rounded-style-top">
          <label>{{ 'CHANGE_PASSWORD.CHANGE_PASSWORD_OLD_PASSWORD_LABEL' | translate }}</label>
          <div class="row">
            <div class="col-10">
          <input type="password" class="form-control" [type]="showeye ? 'text' : 'password'" name="oldPassword" placeholder="{{ 'CHANGE_PASSWORD.CHANGE_PASSWORD_OLD_PASSWORD_PLACEHOLDER' | translate }}" formControlName="oldPassword" required="" autofocus="" />
        </div>
        <div class="col-2">
          <i [class]="showeye ? 'fa fa-eye' : 'fa fa-eye-slash' " (click)="showPassword()"></i>
          </div>
        </div>
          <span *ngIf="changePasswordFormSubmitted && passwordChangeControls.oldPassword.errors">
            <span *ngIf="passwordChangeControls.oldPassword.errors.required"  class="validation-error">{{ 'VALIDATION.VALIDATION_REQUIRED' | translate }}</span>
         </span>
      </li>
      <li *ngIf="forgetSetPassword" class="list-group-item">
          <label>{{ 'CHANGE_PASSWORD.CHANGE_PASSWORD_NEW_PASSWORD_LABEL' | translate }}</label>
          <div class="row">
            <div class="col-10">
          <input type="password" class="form-control" [type]="shownew_passwordeye ? 'text' : 'password'" name="newPassword" placeholder="{{ 'CHANGE_PASSWORD.CHANGE_PASSWORD_NEW_PASSWORD_PLACEHOLDER' | translate }}" formControlName="newPassword" required="" autofocus="" />
        </div>
        <div class="col-2">
          <i [class]="shownew_passwordeye ? 'fa fa-eye' : 'fa fa-eye-slash' " (click)="shownewPassword()"></i>
          </div>
        </div>
          <span *ngIf="changePasswordFormSubmitted && passwordChangeControls.newPassword.errors">
            <span *ngIf="passwordChangeControls.newPassword.errors.required"  class="validation-error">{{ 'VALIDATION.VALIDATION_REQUIRED' | translate }}</span>
            <span *ngIf="passwordChangeControls.newPassword.errors.pattern" class="validation-error">{{ 'VALIDATION.VALIDATION_MIN_LENGTH_8' | translate }}</span>
         </span>
      </li>
      <li *ngIf="forgetSetPassword" class="list-group-item rounded-style-buttom">
        <label>{{ 'CHANGE_PASSWORD.CHANGE_PASSWORD_REPEAT_PASSWORD_LABEL' | translate }}</label>
        <div class="row">
          <div class="col-10">
        <input type="password" class="form-control" [type]="showrepeat_passwordeye ? 'text' : 'password'" name="repeatPassword" placeholder="{{ 'CHANGE_PASSWORD.CHANGE_PASSWORD_REPEAT_PASSWORD_PLACEHOLDER' | translate }}" formControlName="repeatPassword" required="" autofocus="" />
      </div>
      <div class="col-2">
        <i [class]="showrepeat_passwordeye ? 'fa fa-eye' : 'fa fa-eye-slash' " (click)="showRepeatPassword()"></i>
        </div>
      </div>
        <span *ngIf="changePasswordFormSubmitted && passwordChangeControls.repeatPassword.errors">
          <span *ngIf="passwordChangeControls.repeatPassword.errors.required"  class="validation-error">{{ 'VALIDATION.VALIDATION_REQUIRED' | translate }}</span>
          <span *ngIf="passwordChangeControls.repeatPassword.errors.pattern" class="validation-error">{{ 'VALIDATION.VALIDATION_MIN_LENGTH_8' | translate }}</span>
        </span>
      </li>
      <li *ngIf="regProvider != 'SBIS' && !hasPassword" class="list-group-item rounded-style-buttom">
          <label>Please enter your Password</label>
          <div class="row">
            <div class="col-lg-6">
                <input type="password" placeholder="Set Password" formControlName="setPassword"><br><br>
                <button class="btn btn-primary" (click)="setPassword(changePasswordForm.value)" type="button">SUBMIT</button>
            </div>
          </div>
      </li>
    </ul>
  </form>
  <div *ngIf="forgetSetPassword">
      <button class="btn btn-sm btn-primary" style="float:right;" type="button" (click)="onSubmit(changePasswordForm.value)">{{ 'CHANGE_PASSWORD.CHANGE_PASSWORD_CHANGE_PASSWORD_BUTTON' | translate }}</button>
      <button class="btn btn-sm btn-secondary" style="float:right;margin-right: 5px;" type="button" (click)="backClicked()">Cancel </button>  

    </div>
  <!-- <div *ngIf="forgetSetPassword"> 
  </div> -->
  </div>
  <div class="col-3"></div>

  </div>

  </div>

  <div *ngIf="showSuccessMessageOnChangePassword" class="container">
    <app-success-card [successMsgFor]="successMsgFor"></app-success-card>
  </div>
